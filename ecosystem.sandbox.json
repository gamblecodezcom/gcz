{
  "apps": [
    {
      "name": "gcz-sandbox-bot",
      "script": "bot.js",
      "cwd": "/var/www/html/gcz/ai/gcz-sandbox/bot",
      "interpreter": "node",
      "exec_mode": "fork",
      "instances": 1,
      "max_memory_restart": "300M",
      "env_file": "/var/www/html/gcz/.env.sandbox",
      "env": {
        "NODE_ENV": "sandbox",
        "GCZ_ENV": "sandbox"
      },
      "merge_logs": true,
      "time": true,
      "max_size": "10M",
      "retain": 10,
      "out_file": "/var/www/html/gcz/logs/sandbox-bot-out.log",
      "error_file": "/var/www/html/gcz/logs/sandbox-bot-error.log",
      "min_uptime": "10s",
      "max_restarts": 10,
      "restart_delay": 5000
    },

    {
      "name": "gcz-sandbox-api",
      "script": "uvicorn",
      "args": "backend.main:app --host 0.0.0.0 --port 9000",
      "cwd": "/var/www/html/gcz/ai/gcz-sandbox",
      "interpreter": "python3",
      "exec_mode": "fork",
      "instances": 1,
      "env_file": "/var/www/html/gcz/.env.sandbox",
      "env": {
        "NODE_ENV": "sandbox",
        "GCZ_ENV": "sandbox",
        "PYTHONPATH": "/var/www/html/gcz/ai/gcz-sandbox"
      },
      "merge_logs": true,
      "time": true,
      "max_size": "10M",
      "retain": 10,
      "out_file": "/var/www/html/gcz/logs/sandbox-api-out.log",
      "error_file": "/var/www/html/gcz/logs/sandbox-api-error.log",
      "min_uptime": "10s",
      "max_restarts": 10,
      "restart_delay": 5000
    },

    {
      "name": "gcz-sandbox-redirect",
      "script": "uvicorn",
      "args": "backend.redirect:app --host 0.0.0.0 --port 9001",
      "cwd": "/var/www/html/gcz/ai/gcz-sandbox",
      "interpreter": "python3",
      "exec_mode": "fork",
      "instances": 1,
      "env_file": "/var/www/html/gcz/.env.sandbox",
      "env": {
        "NODE_ENV": "sandbox",
        "GCZ_ENV": "sandbox",
        "PYTHONPATH": "/var/www/html/gcz/ai/gcz-sandbox"
      },
      "merge_logs": true,
      "time": true,
      "max_size": "10M",
      "retain": 10,
      "out_file": "/var/www/html/gcz/logs/sandbox-redirect-out.log",
      "error_file": "/var/www/html/gcz/logs/sandbox-redirect-error.log",
      "min_uptime": "10s",
      "max_restarts": 10,
      "restart_delay": 5000
    },

    {
      "name": "gcz-sandbox-drops",
      "script": "uvicorn",
      "args": "backend.drops:app --host 0.0.0.0 --port 9002",
      "cwd": "/var/www/html/gcz/ai/gcz-sandbox",
      "interpreter": "python3",
      "exec_mode": "fork",
      "instances": 1,
      "env_file": "/var/www/html/gcz/.env.sandbox",
      "env": {
        "NODE_ENV": "sandbox",
        "GCZ_ENV": "sandbox",
        "PYTHONPATH": "/var/www/html/gcz/ai/gcz-sandbox"
      },
      "merge_logs": true,
      "time": true,
      "max_size": "10M",
      "retain": 10,
      "out_file": "/var/www/html/gcz/logs/sandbox-drops-out.log",
      "error_file": "/var/www/html/gcz/logs/sandbox-drops-error.log",
      "min_uptime": "10s",
      "max_restarts": 10,
      "restart_delay": 5000
    },

    {
      "name": "gcz-sandbox-discord",
      "script": "start-discord.js",
      "cwd": "/var/www/html/gcz/ai/gcz-sandbox/discord",
      "interpreter": "node",
      "exec_mode": "fork",
      "instances": 1,
      "node_args": "--experimental-modules",
      "env_file": "/var/www/html/gcz/.env.sandbox",
      "env": {
        "NODE_ENV": "sandbox",
        "GCZ_ENV": "sandbox"
      },
      "merge_logs": true,
      "time": true,
      "max_size": "10M",
      "retain": 10,
      "out_file": "/var/www/html/gcz/logs/sandbox-discord-out.log",
      "error_file": "/var/www/html/gcz/logs/sandbox-discord-error.log",
      "min_uptime": "10s",
      "max_restarts": 10,
      "restart_delay": 5000
    },

    {
      "name": "gcz-sandbox-watchdog",
      "script": "ai/ai_watchdog.py",
      "cwd": "/var/www/html/gcz",
      "interpreter": "python3",
      "exec_mode": "fork",
      "instances": 1,
      "max_memory_restart": "200M",
      "env_file": "/var/www/html/gcz/.env.sandbox",
      "env": {
        "NODE_ENV": "sandbox",
        "GCZ_ENV": "sandbox"
      },
      "merge_logs": true,
      "time": true,
      "max_size": "10M",
      "retain": 10,
      "out_file": "/var/www/html/gcz/logs/sandbox-watchdog-out.log",
      "error_file": "/var/www/html/gcz/logs/sandbox-watchdog-error.log",
      "min_uptime": "10s",
      "max_restarts": 25,
      "restart_delay": 5000
    },

    {
      "name": "gcz-sandbox-ai",
      "script": "uvicorn",
      "args": "ai.server:app --host 0.0.0.0 --port 9010",
      "cwd": "/var/www/html/gcz/ai/gcz-sandbox",
      "interpreter": "python3",
      "exec_mode": "fork",
      "instances": 1,
      "env_file": "/var/www/html/gcz/.env.sandbox",
      "env": {
        "NODE_ENV": "sandbox",
        "GCZ_ENV": "sandbox",
        "PYTHONPATH": "/var/www/html/gcz/ai/gcz-sandbox"
      },
      "merge_logs": true,
      "time": true,
      "max_size": "10M",
      "retain": 10,
      "out_file": "/var/www/html/gcz/logs/sandbox-ai-out.log",
      "error_file": "/var/www/html/gcz/logs/sandbox-ai-error.log",
      "min_uptime": "10s",
      "max_restarts": 20,
      "restart_delay": 4000
    }
  ]
}
